<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon" href="./logo192.png" />
    <link rel="manifest" href="./manifest.json" />
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "e9evt2zm9w");
    </script>
    <script defer="defer"
        src="https://cdn.jsdelivr.net/gh/danwahlin/Featured-Content@gh-pages/dist/main-0.9.min.js"></script>
    <link href="https://cdn.jsdelivr.net/gh/danwahlin/Featured-Content@gh-pages/dist/main-0.9.min.css" rel="stylesheet">
    <style>
        /* Basic styling for the cookie banner */
        .cookie-banner {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background: #222;
          color: #fff;
          padding: 15px;
          font-family: Arial, sans-serif;
          display: flex;
          align-items: center;
          justify-content: space-between;
          z-index: 9999;
          opacity: 0.9;
        }
      
        .cookie-banner p {
          margin: 0;
          font-size: 14px;
          max-width: 70%;
        }
      
        .cookie-banner .buttons {
          display: flex;
          gap: 10px;
        }
      
        .cookie-banner button {
          background: #444;
          border: none;
          color: #fff;
          padding: 8px 12px;
          font-size: 14px;
          cursor: pointer;
        }
      
        .cookie-banner button:hover {
          background: #555;
        }
      </style>
    <title>Curated Content</title>
</head>

<body>
    <div id="root" data-feed-url="./data/siteContent.json"></div>

    <!-- Cookie Banner -->
    <div class="cookie-banner" id="cookieBanner" style="display: none;">
        <p>We use cookies to personalize content, measure performance, and provide you with a better browsing experience. By clicking 'Accept' you agree to our use of cookies.</p>
        <div class="buttons">
            <button id="acceptCookies">Accept</button>
            <button id="denyCookies">Deny</button>
        </div>
    </div>

    <script>
        // Check localStorage to see if user already made a choice
        document.addEventListener('DOMContentLoaded', function () {
            const userChoice = localStorage.getItem('cookiesAccepted');

            if (userChoice === null) {
                // Show the banner if no choice has been made
                document.getElementById('cookieBanner').style.display = 'flex';
            }

            document.getElementById('acceptCookies').addEventListener('click', function () {
                localStorage.setItem('cookiesAccepted', 'true');
                window.clarity('consent');
                document.getElementById('cookieBanner').style.display = 'none';
                // Here you could initialize analytics or any other script that requires cookies
            });

            document.getElementById('denyCookies').addEventListener('click', function () {
                localStorage.setItem('cookiesAccepted', 'false');
                window.clarity('consent', false)
                document.getElementById('cookieBanner').style.display = 'none';
            });
        });

        // Initialize Clarity with the user's previous choice
        if (localStorage.getItem('cookiesAccepted') === 'true') {
            window.clarity('consent');
        }
    </script>
</body>

</html>